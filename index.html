<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØµÙØ­Ø© Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: Arial, sans-serif;
        }
        .header-title {
            text-align: center;
            font-size: 2rem;
            font-weight: bold;
            margin-top: 20px;
            color: #007bff;
            cursor: pointer;
        }
        .header-title:hover {
            text-decoration: underline;
        }
        .marquee-container {
            background-color: #007bff;
            color: white;
            padding: 10px;
            font-weight: bold;
            margin-top: 10px;
        }
        .news-card {
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease-in-out;
        }
        .news-card:hover {
            transform: scale(1.03);
        }
        .lazy-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: #ddd;
        }
        footer {
            background-color: #343a40;
            color: white;
            text-align: center;
            padding: 10px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1 class="header-title">
            <a href="#" onclick="window.location.href = window.location.href;" class="header-title">ğŸ“° Ø£Ø­Ø¯Ø« Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</a>
        </h1>
    </div>

    <div class="marquee-container">
        <marquee id="newsTicker" direction="left">ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø±...</marquee>
    </div>

    <div class="container mt-4">
        <div class="d-flex justify-content-end mb-3">
            <select id="languageSelect" class="form-select w-auto">
                <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                <option value="en">English</option>
                <option value="fr">FranÃ§ais</option>
                <option value="es">EspaÃ±ol</option>
                <option value="de">Deutsch</option>
                <option value="it">Italiano</option>
            </select>
        </div>

        <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« Ù…Ø¹ Ø²Ø± Ø§Ù„Ø¨Ø­Ø« -->
        <div class="input-group mb-3">
            <input type="text" id="searchInput" class="form-control" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø£Ø®Ø¨Ø§Ø±..." aria-label="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø£Ø®Ø¨Ø§Ø±">
            <button class="btn btn-primary" id="searchBtn">Ø¨Ø­Ø«</button>
        </div>

        <div id="newsContainer" class="row row-cols-1 row-cols-md-2 g-4"></div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const newsContainer = document.getElementById("newsContainer");
            const searchInput = document.getElementById("searchInput");
            const searchBtn = document.getElementById("searchBtn");
            const newsTicker = document.getElementById("newsTicker");
            const languageSelect = document.getElementById("languageSelect");

            let newsData = [];
            let currentPage = 1;
            const newsPerPage = 4;
            const API_KEY = "_M6KrwHhJRDjk34yXUsIaUDHd3jAYZZqmEyoj-t0kK4TtRWU"; // ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù€ API Ù‡Ù†Ø§

            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
            fetchNews();
            fetchNewsTicker();

            // Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©
            languageSelect.addEventListener("change", () => {
                fetchNews();
                fetchNewsTicker();
            });

            // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø¨Ø­Ø«
            searchBtn.addEventListener("click", () => {
                const query = searchInput.value.toLowerCase();
                const filteredNews = newsData.filter(item => item.title.toLowerCase().includes(query));
                renderNews(filteredNews);
            });

            // Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±
            function fetchNews() {
                const lang = languageSelect.value;
                const apiUrl = `https://api.currentsapi.services/v1/latest-news?language=${lang}&apiKey=${API_KEY}`;

                fetch(apiUrl)
                    .then(response => response.json())
                    .then(data => {
                        newsData = data.news.filter(news => news.title && news.url);
                        currentPage = 1;
                        renderNews(newsData);
                    })
                    .catch(error => console.error("Error fetching news:", error));
            }

            // Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
            function fetchNewsTicker() {
                const lang = languageSelect.value;
                const apiUrl = `https://api.currentsapi.services/v1/latest-news?language=${lang}&apiKey=${API_KEY}`;

                fetch(apiUrl)
                    .then(response => response.json())
                    .then(data => {
                        let headlines = data.news.map(article => article.title).slice(0, 5).join(" | ");
                        newsTicker.textContent = headlines;
                    })
                    .catch(error => console.error("Error fetching news ticker:", error));
            }

            // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø®Ø¨Ø§Ø±
            function renderNews(newsArray) {
                newsContainer.innerHTML = ''; // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©

                newsArray.forEach((news, index) => {
                    if (!news.title || !news.url) return;

                    const imageUrl = news.image && news.image !== "None" ? news.image : "https://via.placeholder.com/400x200?text=No+Image";

                    const newsHtml = `
                        <div class="col">
                            <div class="card news-card">
                                <img src="${imageUrl}" class="card-img-top lazy-img" alt="${news.title}">
                                <div class="card-body">
                                    <h5 class="card-title">${news.title}</h5>
                                    <p class="card-text">${news.description || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù…ØªØ§Ø­"}</p>
                                    <a href="${news.url}" target="_blank" class="btn btn-sm btn-primary">Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯</a>
                                </div>
                            </div>
                        </div>`;

                    newsContainer.innerHTML += newsHtml;
                });
            }

            // Ù…Ø±Ø§Ù‚Ø¨ Ù„Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„Ù„Ø§Ù†Ù‡Ø§Ø¦ÙŠ
            window.addEventListener('scroll', () => {
                if (window.innerHeight + window.scrollY >= document.documentElement.scrollHeight - 100) {
                    currentPage++;
                    renderNews(newsData.slice(0, currentPage * newsPerPage));
                }
            });
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª -->
    <script type='text/javascript' src='//pl25729433.profitablecpmrate.com/43/bd/fc/43bdfc82ee8e6bcd559f7da9d1ca2dc2.js'></script>

    <footer>
        <p>Â© 2025 Mood news.Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
    </footer>
</body>
</html>
